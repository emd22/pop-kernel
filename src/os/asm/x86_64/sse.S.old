nosse:
    nop

.global check_sse
.global enable_sse
.type enable_sse @function
.type check_sse @function

enable_sse:
    mov eax, cr0
    and ax, 0xFFFB
    or ax, 0x02
    mov cr0, eax
    or ax, 3 << 9
    mov cr4, eax
    ret


check_sse:
    mov eax, 0x01
    cpuid
    test edx, 1 << 25
    jz .nosse
    mov sse_found, 1  #found sse, no issues
    ret
    jmp enablesse